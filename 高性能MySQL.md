## 六查询性能优化



### 为什么查询速度会慢

>   查询快慢重要的是响应时间；每个查询都是任务都是有一系列的子任务组成，每个子任务都会消耗一定的时间。要么消除一些子任务，要么减少一些任务的执行次数，要么让子任务执行的更快。



### 慢查询基础，优化数据访问

查询不需要的记录，包括不需要的行，列数据等。不必要的数据会消耗CPU，内存，网络开销。



判断MySQL是否在扫描额外的记录。三个指标分别是《 响应的时间，扫描的行数，返回的行数》这三个指标都可以记录到MySQL的慢日志中。

-   响应时间包括 服务时间和排队时间。真正的执行时间查询的时间是服务器时间，但是我们的网络io，锁等机制都会影响到排队时间。
-   扫描的行数和访问类型。有些访问类型可能需要扫描很多行才会返回一行结果，有些访问方式可能无需扫描就能返回结果。explain 语句中type列反应了访问类型。访问类型有很多种《全表扫描，索引扫描，范围扫描，唯一索引查询，常数引用等》从左到右是从慢到快排序的。扫描的范围也是从小到大。

  where 条件从好到坏依次如下

在索引使用where过滤的是存储引擎完成的。

使用索引福海扫描在 extera 出现了using index 来返回记录，直接从索引中过滤不需要的记录并返回命中结果这是在MySQL服务器曾完成的，但是无需再徽标查询记录

从数据表中返回数据，然后过滤不满足条件的记录再exterA列中返回了use where 这在MySQL服务器曾完成，MySQL需要先从数据表读出记录然后过滤。

## MySQL配置工作原理

通常配置文件位置  /etc/my.cnf   /etc/mysql/my.cnf

which msyqld

配置项都使用小写，单词之间用下划线或者横线隔开，

配置项有多个作用域

全局作用域，

会话作用域

