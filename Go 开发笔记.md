# Go 开发笔记

## 配置Go国内加速

1.  官方加速：`go env -w  GOPROXY=https://goproxy.io,direct`
2.  阿里云加速：`go env -w GOPROXY=https://mirrors.aliyun.com/goproxy/,direct`
3.  七牛云加速：`go env -w  GOPROXY=https://goproxy.cn,direct`

### 基础

1.  程序从 `package main` 开始运行；`import math/rand`  则使用已 `rand` 为包名，使用路径的最后一个元素作为包名；包通过名字的大小写控制是否可以导出。其他包无法访问本包未导出的名称；
2.  Golang 推荐使用带括号的组引入包，变量，常量；变量可以在包与函数中声明，在包中声明不能使用  `:=` 运算符；
3.  变量声明未初始化时候都是`零值` ，int 零值是 0，Boolean 零值是false，String 零值是""，point零值是nil，数组与切片的零值是nil；变量的类型转换为 `T(V)` 将v转换为T类型，类型转换必须要显示转换；变量可以进行推导 `:=`；
4.  常量不能使用类型推导 `:=`，可以声名为常量的类型，character , string, boolean, numeric 
5.  常量是高精度的值,必须是可以在编译前可以完成的表达式。
6.  if 语句可以有一个简短声明 `if 表达式；判断 {}` 表达式中的变量作用域只在if块中；`for init; condition; post {}`，其中init,post表达式都是可选的,如果三个表达式都不存在则`for=while`;`switch` 只运行选中的 `case` ，`case` 可以是 变量，常量，表达式，函数；`switch` 后面可以为空;
7.  `defer` 是栈结构，后入先出。`defer`还是运行在当前线程
8.  Golang中没有指针运算，指针变量的零值是 `nil`,`&`是取内存地址运算符。`*`运算符是对指针解引用
9.   `struct` 是字段的集合  **`.`** 可以访问struct 的字段，struct 指针有隐式解引用`(*p).x = p.x` ，编译器帮忙处理了；struct 的方法既是函数，struct的指针接收者也由编译器处理了指针的转换；
10.  数组的长度是其类型的一部分，因此数组不能改变大小；切片 `a[low : high]` 包含low,排除high默认值分别为最小，和最大；切片是对底层数组的引用，共享底层数据；切片的文法是对数组的引用`[]bool{true, true, false} = [3]bool{true, true, false}[:] `； 切片的长度就是它所包含的元素个数。切片的容量是从它的第一个元素开始数，到其底层数组元素末尾的个数；切片low前部分会被丢弃，high后面部分不会丢，所以避免s = s[1:3]这样的操作；
11.  `make`  可以创建动态数组
12.   `range` 迭代器，可以遍历切片或映射 每次迭代都会返回两个值。第一个值为当前元素的下标，第二个值为该下标所对应元素的一份副本 **`_`** 接收可以忽略； 
13.  `map`与结构体类似，不过必须有键名； `elem, ok = m[key]` 可以通过ok判断是否存在key
14.  函数值(闭包函数)在go中可以当作值一样传递
15.  `go` 后面为一个新的协程执行；go程之间共享上下文；`chan` 为信道，为协程之间通信；信道可以设置缓冲；只有发送者才能关闭信道；向一个已经关闭的信道发送数据会引发程序panic；`select` 语句使一个 Go 程可以等待多个通信操作；`sync.Mutex` 处理共享变量<加锁>；



